{"version":3,"file":"static/js/278.644ea602.chunk.js","mappings":"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","sources":["redux/users-selectors.js","webpack://best-friend-project/./src/components/common/Paginator/Paginator.module.scss?ec6c","components/common/Paginator/Paginator.jsx","webpack://best-friend-project/./src/components/Main/Users/Users.module.scss?d848","components/Main/Users/User.jsx","components/Main/Users/Users.jsx","components/Main/Users/UsersAPIContainer.jsx","components/Main/Users/UsersContainer.jsx","hoc/withAuthRedirect.jsx"],"sourcesContent":["export const getUsers = (state) => {\r\n    return (\r\n        state.usersPage.users\r\n    );\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n    return (\r\n        state.usersPage.pageSize\r\n    );\r\n};\r\n\r\nexport const getTotalUserCount = (state) => {\r\n    return (\r\n        state.usersPage.totalUserCount\r\n    );\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return (\r\n        state.usersPage.currentPage\r\n    );\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return (\r\n        state.usersPage.isFetching\r\n    );\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return (\r\n        state.usersPage.followingInProgress\r\n    );\r\n};","// extracted by mini-css-extract-plugin\nexport default {\"wrapperCounter\":\"Paginator_wrapperCounter__qhWpX\",\"selectedPage\":\"Paginator_selectedPage__g7jBc\",\"selectedItems\":\"Paginator_selectedItems__cC2Yb\",\"active\":\"Paginator_active__vzmTH\"};","import React from 'react';\r\nimport cl from './Paginator.module.scss';\r\n\r\nconst Paginator = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUserCount / props.pageSize);\r\n\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let curP = props.currentPage;\r\n    let curPF = ((curP - 2) < 0) ? 0 : curP - 2;\r\n    let curPL = curP + 1;\r\n    let slicedPages = pages.slice(curPF, curPL);\r\n\r\n    return (\r\n        <div className={cl.wrapperCounter}>\r\n            {\r\n                slicedPages.map(p => {\r\n                    return <span key={p} onClick={(e) => { props.onPageChanged(p) }}\r\n                        className={`${props.currentPage === p ? cl.selectedPage : \"\"} ${cl.selectedItems}`}>-{p}-</span>\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Paginator;","// extracted by mini-css-extract-plugin\nexport default {\"sectionUsers\":\"Users_sectionUsers__Z+--G\",\"userWrapper\":\"Users_userWrapper__VM+OU\",\"userPhoto\":\"Users_userPhoto__YIChy\",\"dataBlock\":\"Users_dataBlock__OL1zK\",\"locationBlock\":\"Users_locationBlock__PTBLK\",\"userName\":\"Users_userName__zOq6-\",\"userCity\":\"Users_userCity__mpxZH\",\"button\":\"Users_button__IoPwO\",\"blockUserWrapper\":\"Users_blockUserWrapper__PPt08\"};","import React from 'react';\r\nimport userPhoto from '../../../assets/img/userAva.png';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { remoteFriend, addNewFriend } from '../../../api/api';\r\nimport cl from './Users.module.scss';\r\n\r\nconst User = (props) => {\r\n\r\n    const user = props.user;\r\n\r\n    return (\r\n        <div className={cl.userWrapper} >\r\n            {<NavLink to={'/profile/' + user.id}>\r\n                <img src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"photo\" className={cl.userPhoto} />\r\n            </NavLink>}\r\n            <div className={cl.dataBlock}>\r\n                <p className={cl.userName}>{user.name}</p>\r\n            </div>\r\n            <div className={cl.locationBlock}>\r\n                {user.followed\r\n                    ? < button disabled={props.followingInProgress.includes(user.id)}\r\n                        className={cl.button} onClick={() => { props.unfollowThunk(user.id, remoteFriend) }} >Delete</button>\r\n                    : < button disabled={props.followingInProgress.includes(user.id)}\r\n                        className={cl.button} onClick={() => { props.followThunk(user.id, addNewFriend) }}>Add</button>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../../common/Paginator/Paginator';\r\nimport User from './User';\r\nimport cl from './Users.module.scss';\r\n\r\nconst Users = (props) => {\r\n\r\n    return (\r\n        <section className={cl.sectionUsers} >\r\n            <Paginator onPageChanged={props.onPageChanged}\r\n                currentPage={props.currentPage}\r\n                totalUserCount={props.totalUserCount}\r\n                pageSize={props.pageSize} />\r\n            <div className={cl.blockUserWrapper}>\r\n                {\r\n                    props.users.map(u => <User\r\n                        user={u} className={cl.userWrapper}\r\n                        id={u.id} key={u.id}\r\n                        followingInProgress={props.followingInProgress}\r\n                        unfollowThunk={props.unfollowThunk}\r\n                        followThunk={props.followThunk}\r\n                    />)\r\n                }\r\n            </div>\r\n        </section >\r\n    );\r\n};\r\n\r\nexport default Users;","import React from 'react';\r\nimport Users from './Users';\r\nimport { getUsersAPI } from '../../../api/api';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\n\r\n\r\nclass UsersAPIContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.getUsersThunk(this.props.currentPage, this.props.pageSize, getUsersAPI);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsersThunk(pageNumber, this.props.pageSize, getUsersAPI);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {/* {<div>\r\n                {this.props.isFetching ? <Preloader /> : null}\r\n            </div>} */}\r\n            <Users\r\n                totalUserCount={this.props.totalUserCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                add={this.props.add}\r\n                remove={this.props.remove}\r\n                followingInProgress={this.props.followingInProgress}\r\n                unfollowThunk={this.props.unfollowThunk}\r\n                followThunk={this.props.followThunk}\r\n                getUsersThunk={this.props.getUsersThunk} />\r\n        </>\r\n    }\r\n}\r\n\r\nexport default UsersAPIContainer;\r\n\r\n\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport withAuthRedirect from '../../../hoc/withAuthRedirect';\r\nimport {\r\n    addFriend, deleteFriend,\r\n    getUsersThunkAC, unfollowThunkAC, followThunkAC\r\n} from '../../../redux/users-reducer';\r\nimport {\r\n    getUsers, getCurrentPage, getFollowingInProgress,\r\n    getIsFetching, getPageSize, getTotalUserCount\r\n} from '../../../redux/users-selectors';\r\nimport UsersAPIContainer from './UsersAPIContainer';\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUserCount: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\r\n    return {\r\n        add: (userId) => {\r\n            dispatch(addFriend(userId));\r\n        },\r\n        remove: (userId) => {\r\n            dispatch(deleteFriend(userId));\r\n        },\r\n        getUsersThunk: (currentPage, pageSize, getUsersAPI) => {\r\n            dispatch(getUsersThunkAC(currentPage, pageSize, getUsersAPI));\r\n        },\r\n        unfollowThunk: (userId, remoteFriend) => {\r\n            dispatch(unfollowThunkAC(userId, remoteFriend));\r\n        },\r\n        followThunk: (userId, addNewFriend) => {\r\n            dispatch(followThunkAC(userId, addNewFriend));\r\n        }\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(UsersAPIContainer);\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom/cjs/react-router-dom';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nconst withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (this.props.isAuth === false) return <Redirect to='/login/' />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n};\r\n\r\nexport default withAuthRedirect;"],"names":["getUsers","state","usersPage","users","getPageSize","pageSize","getTotalUserCount","totalUserCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","props","pagesCount","Math","ceil","pages","i","push","curP","curPF","curPL","slicedPages","slice","_jsx","className","cl","children","map","p","_jsxs","onClick","e","onPageChanged","concat","user","NavLink","to","id","src","photos","small","userPhoto","alt","name","followed","disabled","includes","unfollowThunk","remoteFriend","followThunk","addNewFriend","Paginator","u","User","UsersAPIContainer","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","pageNumber","getUsersThunk","getUsersAPI","_createClass","key","value","this","_Fragment","Users","add","remove","React","compose","connect","dispatch","userId","addFriend","deleteFriend","getUsersThunkAC","unfollowThunkAC","followThunkAC","withAuthRedirect","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent","Redirect","_objectSpread"],"sourceRoot":""}